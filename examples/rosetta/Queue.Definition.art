Queue #{
	list #()

	push {
		list list+&
	}

	pop {
		if $(empty) {
			panic "trying to pop from an empty queue!"
		}

		last_item $(last list)
		list $(deleteBy list $(size list)-1)
		return last_item
	}

	empty {
		$(size list)=0
	}

	inspect {
		log this
	}
}

q $(new ~Queue)

q.push "one"
q.push "two"
q.push "three"

q.inspect

print "popped = " + $(q.pop)
print "is it empty? = " + $(q.empty)
