queue #{
	list #()

	push {
		list list+&
	}

	pop {
		if $(empty) {
			panic "trying to pop from an empty queue!"
		}

		first_item $(first list)
		list $(deleteBy list 0)
		return first_item
	}

	empty {
		$(size list)=0
	}

	inspect {
		log this
	}
}

q $(new ~queue)

q.push "one"
q.push "two"
q.push "three"

q.inspect

print "popped = " + $(q.pop)
print "is it empty? = " + $(q.empty)