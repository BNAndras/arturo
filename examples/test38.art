"======================================"
"Primality testing in Art:uro"
"======================================"

is.prime: [n]{
	ret true

	if n==2 { ret true } {
		if $(or n<2 n%2==0) { 
			ret false 
		} {
			if n==2 { 
				ret true 
			} {
				i 3
				loop $(and i<n/2+1 ret!=false) {
					if n%2==0 { ret false }
					i i+2
				}
			}
		}
	}
	ret
}

//fib: | [0] { 1 }
//	 | [1] { 1 }
//	 | [?,?] { 10}

//is.prime: [? 2,3] { true } |
//		  [==3] { true } |
//		  [n] {
//
//		  }

isprime: $(memoize [n]{ 
	all $(map $(range 2 n-1) { 
		n%@!=0 
	}) 
})


maxLimit $(to.number @0)

primes $(filter $(range 1 maxLimit) is.prime)
print primes



//continue true
//loop (continue) {
//	"Enter a number:"
//	num $(to.number $(strip $(input)))
//	if  num==0 { continue false } { print $(is.prime num) }
//}

