#!/usr/bin/env arturo
"====================================================================================="
" Testing assignments, functions, class instances and return "
"====================================================================================="

a 10
b "str"
c #(1 2 3)
d #("one" "two" "three")
e #{
	name "john"
	surname "zafeiropoulos"
	add {
		@0 + @1
	}
}

f { print "something!" }

g [x]{ print "[g] num=" + x}
h { print "[h] @ = " + @0 }

print $(syms)

b "boom"

d.0 "uno"

e.name "changed!"
e.age 33

print $(syms)

!f
!g 10
!h 11

print $(!e.add 1 2)

e.add { 2*(@0 + @1) }

print $(!e.add 1 2)

class #{
	name ~
	surname ~
	email ~

	init [n,s,em]{
		name n
		surname s
		email em
	}

	func {
		print $(syms)
		print "this.name = " + this.name
		print "name = " + name

		print "this.surname = " + this.surname
		print "surname = " + surname
	}

	sayHello {
		print "Hi " + name + "!!!"
	}

	changeName [newName] {
		print $(syms)
		this.name newName

		!this.sayHello
	}
}

!class.func

instance $(new ~class "john" "doe" "johndoe@gmail.com")

!instance.func
!instance.sayHello

instance.surname "zafeiropoulos"

!instance.func

print $(syms)

!instance.changeName "george"
print instance

!instance.changeName "james"
print instance

