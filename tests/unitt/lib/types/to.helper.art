for: $[targetType :type cases :block][
    test ~"to |targetType|:" 
    flatten.once map @cases 'p [
        source: first p
        expected: last p
        assertion: [equal?] 
            | append expected
            | append [to]
            | append targetType
            | append source

        [assert] ++ @[assertion]
    ]
]

pair: $[source target][
    @[source target]
]

alias.infix {>>} 'pair