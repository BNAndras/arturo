topic: $[topic :string] -> print ~"\n>> |topic|"
passed: $[] -> print "[+] passed!"

topic « ceil
do [
    
    ensure.that: "works with :floating"          -> 3       = ceil 2.1                    
    ensure.that: "works with :floating"          -> 3       = ceil 2.9                    
    ensure.that: "works with negative :floating" -> (neg 3) = ceil neg 3.5
    passed
                   
    ensure.that: "works with :integer"          -> 4       = ceil 4
    ensure.that: "works with negative :integer" -> (neg 4) = ceil neg 4
    passed
                        
    ensure.that: "works with :rational"
        -> 4   = ceil to :rational @[7 2]
    ensure.that: "works with negative :rational" 
        -> (neg 3)   = ceil to :rational @[neg 7 2]
    passed
    
]

topic « clamp
do [
    
    ensure -> 1 = clamp 1 0..2
    ensure -> 1 = clamp 1 2..0
    passed
    
    ensure -> 1.5 = clamp 1.5 0..2
    ensure -> 1.5 = clamp 1.5 2..0
    passed
    
    ensure -> 1 = clamp 2 0..1
    ensure -> 1 = clamp 2 1..0
    passed
    
    ensure -> 1 = clamp 2.5 0..1
    ensure -> 1 = clamp 2.5 1..0
    passed
    
    ensure -> 1 = clamp 0 1..2
    ensure -> 1 = clamp 0 2..1
    passed
   
    ensure -> 1 = clamp 0.5 1..2
    ensure -> 1 = clamp 0.5 2..1
    passed
    
    ensure -> 4 = clamp 5 range.step: 2 0 5
    ensure -> 5 = clamp 5 range.step: 2 5 0
    ensure -> 3 = clamp 1 range.step: 2 5 2
    passed
    
    ensure -> 4 = clamp 5.5 range.step: 2 0 5
    ensure -> 5 = clamp 5.5 range.step: 2 5 0
    ensure -> 3 = clamp 1.2 range.step: 2 5 2
    passed
    
    ensure -> every? @[
        -> clamp 2 `a`..`d`
        -> clamp `b` `a`..`c`
    ] => throws?
    passed
    
]
